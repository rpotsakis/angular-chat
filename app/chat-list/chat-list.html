<div layout="column" flex style="max-height: 100vh;">
	<md-toolbar class="md-theme-light">
		<h2 class="md-toolbar-tools">
			<span>Messages</span>
			<span flex></span>
			<md-button id="start-new-chat" ng-click="startNewChat()">
				<md-icon md-font-icon="create">create</md-icon>
			</md-button>
		</h2>
	</md-toolbar>
	<md-sidenav md-component-id="contact-list" id="contact-list" layout="column">
		<md-toolbar class="md-theme-light">
			<h3 class="md-toolbar-tools">
				<span>Contacts</span>
			</h3>
		</md-toolbar>
		<md-content flex>
			<md-list>
				<md-list-item class="md-3-line" ng-repeat="person in persons | orderBy: 'lastName'" ng-click="viewItem('new')">
					<img class="md-avatar" ng-src="{{person.avatar}}">
					<div class="md-list-item-text">
						<div layout="row">
							<h3 flex>{{person.lastName}}</h3>
							<p>{{person.firstName}}</p>
						</div>
					</div>
					<md-divider md-inset ng-if="!$last"></md-divider>
				</md-list-item>
			</md-list>
		</md-content>
	</md-sidenav>
	<md-content id="chat-list" flex>
		<md-list>
			<md-list-item class="md-3-line" ng-repeat="chat in chats" ng-click="viewItem(chat.id)">
				<img class="md-avatar" ng-src="{{chat.lastAvatar}}">
				<div class="md-list-item-text">
					<div layout="row">
						<h3 flex>{{chat.participants}}</h3>
						<p flex="25" style="text-align: right;">{{chat.modifiedTime}}</p>
					</div>
					<p>{{chat.lastSender}}: {{chat.lastMessage | limitTo:100}}</p>
				</div>
				<md-divider md-inset ng-if="!$last"></md-divider>
			</md-list-item>
		</md-list>
	</md-content>
</div>